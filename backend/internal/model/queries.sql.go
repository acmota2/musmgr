// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.29.0
// source: queries.sql

package model

import (
	"context"

	"github.com/jackc/pgx/v5/pgtype"
)

const createEvent = `-- name: CreateEvent :exec
insert into musmgr.events (id, date, description, event_type)
values ($1, $2, $3, $4)
`

type CreateEventParams struct {
	ID          string          `json:"id"`
	Date        pgtype.Date     `json:"date"`
	Description pgtype.Text     `json:"description"`
	EventType   MusmgrEventType `json:"event_type"`
}

func (q *Queries) CreateEvent(ctx context.Context, arg CreateEventParams) error {
	_, err := q.db.Exec(ctx, createEvent,
		arg.ID,
		arg.Date,
		arg.Description,
		arg.EventType,
	)
	return err
}

const createFile = `-- name: CreateFile :exec
insert into musmgr.files (id, name, work_id)
values ($1, $2, $3)
`

type CreateFileParams struct {
	ID     string `json:"id"`
	Name   string `json:"name"`
	WorkID string `json:"work_id"`
}

func (q *Queries) CreateFile(ctx context.Context, arg CreateFileParams) error {
	_, err := q.db.Exec(ctx, createFile, arg.ID, arg.Name, arg.WorkID)
	return err
}

const createWork = `-- name: CreateWork :exec
insert into musmgr.works (id, composed_at, instrumentation, title)
values ($1, $2, $3, $4)
`

type CreateWorkParams struct {
	ID              string                    `json:"id"`
	ComposedAt      pgtype.Date               `json:"composed_at"`
	Instrumentation MusmgrInstrumentationName `json:"instrumentation"`
	Title           string                    `json:"title"`
}

func (q *Queries) CreateWork(ctx context.Context, arg CreateWorkParams) error {
	_, err := q.db.Exec(ctx, createWork,
		arg.ID,
		arg.ComposedAt,
		arg.Instrumentation,
		arg.Title,
	)
	return err
}

const createWorkEvent = `-- name: CreateWorkEvent :exec
insert into musmgr.works_events (work_id, event_id)
values ($1, $2)
`

type CreateWorkEventParams struct {
	WorkID  string `json:"work_id"`
	EventID string `json:"event_id"`
}

func (q *Queries) CreateWorkEvent(ctx context.Context, arg CreateWorkEventParams) error {
	_, err := q.db.Exec(ctx, createWorkEvent, arg.WorkID, arg.EventID)
	return err
}

const getEventTypeEvents = `-- name: GetEventTypeEvents :many
select id, date, description, event_type from musmgr.events
where event_type = $1
`

func (q *Queries) GetEventTypeEvents(ctx context.Context, eventType MusmgrEventType) ([]MusmgrEvent, error) {
	rows, err := q.db.Query(ctx, getEventTypeEvents, eventType)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []MusmgrEvent
	for rows.Next() {
		var i MusmgrEvent
		if err := rows.Scan(
			&i.ID,
			&i.Date,
			&i.Description,
			&i.EventType,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const getEventWorks = `-- name: GetEventWorks :many
select id, composed_at, instrumentation, title from musmgr.works
inner join musmgr.works_events
on musmgr.works.id = musmgr.works_events.work_id
where musmgr.works.id = $1
`

func (q *Queries) GetEventWorks(ctx context.Context, id string) ([]MusmgrWork, error) {
	rows, err := q.db.Query(ctx, getEventWorks, id)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []MusmgrWork
	for rows.Next() {
		var i MusmgrWork
		if err := rows.Scan(
			&i.ID,
			&i.ComposedAt,
			&i.Instrumentation,
			&i.Title,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const getSubcategoryWorks = `-- name: GetSubcategoryWorks :many
select id, composed_at, instrumentation, title from musmgr.works
where instrumentation = $1
`

func (q *Queries) GetSubcategoryWorks(ctx context.Context, instrumentation MusmgrInstrumentationName) ([]MusmgrWork, error) {
	rows, err := q.db.Query(ctx, getSubcategoryWorks, instrumentation)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []MusmgrWork
	for rows.Next() {
		var i MusmgrWork
		if err := rows.Scan(
			&i.ID,
			&i.ComposedAt,
			&i.Instrumentation,
			&i.Title,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const getWorkFiles = `-- name: GetWorkFiles :many
select id, name, work_id from musmgr.files
where work_id = $1
`

func (q *Queries) GetWorkFiles(ctx context.Context, workID string) ([]MusmgrFile, error) {
	rows, err := q.db.Query(ctx, getWorkFiles, workID)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []MusmgrFile
	for rows.Next() {
		var i MusmgrFile
		if err := rows.Scan(&i.ID, &i.Name, &i.WorkID); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const getWorks = `-- name: GetWorks :many
select id, composed_at, instrumentation, title from musmgr.works
`

func (q *Queries) GetWorks(ctx context.Context) ([]MusmgrWork, error) {
	rows, err := q.db.Query(ctx, getWorks)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []MusmgrWork
	for rows.Next() {
		var i MusmgrWork
		if err := rows.Scan(
			&i.ID,
			&i.ComposedAt,
			&i.Instrumentation,
			&i.Title,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}
